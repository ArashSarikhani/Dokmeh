{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\a.sarikhani\\\\Desktop\\\\dokmeh\\\\src\\\\presentor\\\\TextScramble.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst TextScramble = () => {\n  _s();\n\n  // ——————————————————————————————————————————————————\n  // TextScramble\n  // ——————————————————————————————————————————————————\n  class TextScramble {\n    constructor(el) {\n      this.el = el;\n      this.chars = '!<>-_\\\\/[]{}—=+*^?#________';\n      this.update = this.update.bind(this);\n    }\n\n    setText(newText) {\n      const oldText = this.el.innerText;\n      const length = Math.max(oldText.length, newText.length);\n      const promise = new Promise(resolve => this.resolve = resolve);\n      this.queue = [];\n\n      for (let i = 0; i < length; i++) {\n        const from = oldText[i] || '';\n        const to = newText[i] || '';\n        const start = Math.floor(Math.random() * 40);\n        const end = start + Math.floor(Math.random() * 40);\n        this.queue.push({\n          from,\n          to,\n          start,\n          end\n        });\n      }\n\n      cancelAnimationFrame(this.frameRequest);\n      this.frame = 0;\n      this.update();\n      return promise;\n    }\n\n    update() {\n      let output = '';\n      let complete = 0;\n\n      for (let i = 0, n = this.queue.length; i < n; i++) {\n        let {\n          from,\n          to,\n          start,\n          end,\n          char\n        } = this.queue[i];\n\n        if (this.frame >= end) {\n          complete++;\n          output += to;\n        } else if (this.frame >= start) {\n          if (!char || Math.random() < 0.28) {\n            char = this.randomChar();\n            this.queue[i].char = char;\n          }\n\n          output += `<span class=\"dud\">${char}</span>`;\n        } else {\n          output += from;\n        }\n      }\n\n      this.el.innerHTML = output;\n\n      if (complete === this.queue.length) {\n        this.resolve();\n      } else {\n        this.frameRequest = requestAnimationFrame(this.update);\n        this.frame++;\n      }\n    }\n\n    randomChar() {\n      return this.chars[Math.floor(Math.random() * this.chars.length)];\n    }\n\n  } // ——————————————————————————————————————————————————\n  // Example\n  // ——————————————————————————————————————————————————\n\n\n  const phrases = ['Dokmehデジタルマーケティングエージェンシー; 最高のものを作成するためのスタジオ', 'آژانس دیجیتال مارکتینگ دکمه ؛ استودیوی خلق بهترین ها', 'Dokmeh Digital Marketing Agency ; Studio for Creating the Best'];\n  const el = document.querySelector('.text');\n  const fx = new TextScramble(el);\n  let counter = 0;\n\n  const next = () => {\n    fx.setText(phrases[counter]).then(() => {\n      setTimeout(next, 800);\n    });\n    counter = (counter + 1) % phrases.length;\n  };\n\n  useEffect(() => {\n    next();\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(TextScramble, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = TextScramble;\nexport default TextScramble;\n\nvar _c;\n\n$RefreshReg$(_c, \"TextScramble\");","map":{"version":3,"sources":["C:/Users/a.sarikhani/Desktop/dokmeh/src/presentor/TextScramble.js"],"names":["React","useState","useEffect","useRef","TextScramble","constructor","el","chars","update","bind","setText","newText","oldText","innerText","length","Math","max","promise","Promise","resolve","queue","i","from","to","start","floor","random","end","push","cancelAnimationFrame","frameRequest","frame","output","complete","n","char","randomChar","innerHTML","requestAnimationFrame","phrases","document","querySelector","fx","counter","next","then","setTimeout"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\n\r\n\r\nconst TextScramble = () => {\r\n\r\n    // ——————————————————————————————————————————————————\r\n// TextScramble\r\n// ——————————————————————————————————————————————————\r\n\r\nclass TextScramble {\r\n    constructor(el) {\r\n      this.el = el\r\n      this.chars = '!<>-_\\\\/[]{}—=+*^?#________'\r\n      this.update = this.update.bind(this)\r\n    }\r\n    setText(newText) {\r\n      const oldText = this.el.innerText\r\n      const length = Math.max(oldText.length, newText.length)\r\n      const promise = new Promise((resolve) => this.resolve = resolve)\r\n      this.queue = []\r\n      for (let i = 0; i < length; i++) {\r\n        const from = oldText[i] || ''\r\n        const to = newText[i] || ''\r\n        const start = Math.floor(Math.random() * 40)\r\n        const end = start + Math.floor(Math.random() * 40)\r\n        this.queue.push({ from, to, start, end })\r\n      }\r\n      cancelAnimationFrame(this.frameRequest)\r\n      this.frame = 0\r\n      this.update()\r\n      return promise\r\n    }\r\n    update() {\r\n      let output = ''\r\n      let complete = 0\r\n      for (let i = 0, n = this.queue.length; i < n; i++) {\r\n        let { from, to, start, end, char } = this.queue[i]\r\n        if (this.frame >= end) {\r\n          complete++\r\n          output += to\r\n        } else if (this.frame >= start) {\r\n          if (!char || Math.random() < 0.28) {\r\n            char = this.randomChar()\r\n            this.queue[i].char = char\r\n          }\r\n          output += `<span class=\"dud\">${char}</span>`\r\n        } else {\r\n          output += from\r\n        }\r\n      }\r\n      this.el.innerHTML = output\r\n      if (complete === this.queue.length) {\r\n        this.resolve()\r\n      } else {\r\n        this.frameRequest = requestAnimationFrame(this.update)\r\n        this.frame++\r\n      }\r\n    }\r\n    randomChar() {\r\n      return this.chars[Math.floor(Math.random() * this.chars.length)]\r\n    }\r\n}\r\n  \r\n// ——————————————————————————————————————————————————\r\n// Example\r\n// ——————————————————————————————————————————————————\r\n\r\nconst phrases = [\r\n  'Dokmehデジタルマーケティングエージェンシー; 最高のものを作成するためのスタジオ',\r\n  'آژانس دیجیتال مارکتینگ دکمه ؛ استودیوی خلق بهترین ها',\r\n  'Dokmeh Digital Marketing Agency ; Studio for Creating the Best',\r\n]\r\n\r\nconst el = document.querySelector('.text')\r\nconst fx = new TextScramble(el)\r\n\r\nlet counter = 0\r\nconst next = () => {\r\n  fx.setText(phrases[counter]).then(() => {\r\n    setTimeout(next, 800)\r\n  })\r\n  counter = (counter + 1) % phrases.length\r\n}\r\nuseEffect(() => {\r\n    \r\n  next();\r\n  \r\n});\r\n  \r\n    \r\n      \r\n      \r\n      \r\n      \r\n\r\n    return (\r\n        <>\r\n            <div className=\"container\">\r\n                <h1 className=\"text\"></h1>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default TextScramble;"]},"metadata":{},"sourceType":"module"}